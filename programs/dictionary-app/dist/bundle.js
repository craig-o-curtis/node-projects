(()=>{"use strict";var r={n:e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},d:(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(r,e)=>Object.prototype.hasOwnProperty.call(r,e)};((r,e,t)=>{const n=require("express");var o=t.n(n);const a=require("fs");var i=t.n(a);const u=require("path");var s=t.n(u);const c=require("clear-logs");function f(r,e,t,n,o,a,i){try{var u=r[a](i),s=u.value}catch(r){return void t(r)}u.done?e(s):Promise.resolve(s).then(n,o)}var l=function(){var r,e=(r=regeneratorRuntime.mark((function r(e){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i().writeFileSync(s().join(__dirname,"..","data","skiTerms.json"),JSON.stringify(e,null,2));case 2:return t=r.sent,r.abrupt("return",t);case 4:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function i(r){f(a,n,o,i,u,"next",r)}function u(r){f(a,n,o,i,u,"throw",r)}i(void 0)}))});return function(r){return e.apply(this,arguments)}}();const d=JSON.parse('[{"term":"d","defined":"d"},{"term":"f","defined":"f"}]');function y(r){return function(r){if(Array.isArray(r))return m(r)}(r)||function(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}(r)||function(r,e){if(r){if("string"==typeof r)return m(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?m(r,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var p=d,v=new n.Router;v.get("/",(function(r,e){e.json(p)})),v.post("/",o().json(),(function(r,e){var t=y(p);t.push(r.body),p=y(t),l(t),e.json({status:"success",term:r.body})})),v.delete("/:term",(function(r,e){var t=(p=Array.isArray(p)?p:[]).filter((function(e){return e.term!==r.params.term}));p=t,l(t),e.json({status:"success",remove:r.params.term,newLength:d.length})}));const b=v;var h=o()();h.use((function(r,e,t){(0,c.log)("".concat(r.method," request for ").concat(r.url)),(0,c.info)(r.body),void 0!==r.body&&null!==r.body&&Object.keys(r.body).length&&(0,c.log)(r.body),t()})),h.use(o().static("./client")),h.use("/dictionary",b),h.listen(3e3,(function(){(0,c.log)("Ski Dictionary on port ".concat(3e3))}))})(0,0,r)})();